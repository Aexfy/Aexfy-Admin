{% extends "base.html" %}

{% block title %}Reportes{% endblock %}

{% block content %}
  <h1>Reportes</h1>

  <section class="card" style="margin-bottom: 16px;">
    <h2 class="card-title">Empresas por zona</h2>
    <div>
      {% for item in resumen_empresas.zonas %}
        <div class="bar-row">
          <div class="bar-label">{{ item.zona }}</div>
          <div class="bar-track">
            <div class="bar-fill" style="width: {{ item.pct }}%;"></div>
          </div>
          <div class="bar-value">{{ item.total }}</div>
        </div>
      {% empty %}
        <div>No hay datos.</div>
      {% endfor %}
    </div>
  </section>

  <section class="card" style="margin-bottom: 16px;">
    <h2 class="card-title">Empresas por estado</h2>
    <div>
      {% for item in resumen_empresas.estados %}
        <div class="bar-row">
          <div class="bar-label">{{ item.estado }}</div>
          <div class="bar-track">
            <div class="bar-fill" style="width: {{ item.pct }}%;"></div>
          </div>
          <div class="bar-value">{{ item.total }}</div>
        </div>
      {% empty %}
        <div>No hay datos.</div>
      {% endfor %}
    </div>
  </section>

  <section class="card" style="margin-bottom: 16px;">
    <h2 class="card-title">Empresas por plan</h2>
    <div>
      {% for item in resumen_empresas.planes %}
        <div class="bar-row">
          <div class="bar-label">{{ item.plan }}</div>
          <div class="bar-track">
            <div class="bar-fill" style="width: {{ item.pct }}%;"></div>
          </div>
          <div class="bar-value">{{ item.total }}</div>
        </div>
      {% empty %}
        <div>No hay datos.</div>
      {% endfor %}
    </div>
  </section>

  <section class="card" style="margin-bottom: 16px;">
    <h2 class="card-title">Usuarios por zona</h2>
    <div>
      {% for item in resumen_usuarios.zonas %}
        <div class="bar-row">
          <div class="bar-label">{{ item.zona }}</div>
          <div class="bar-track">
            <div class="bar-fill" style="width: {{ item.pct }}%;"></div>
          </div>
          <div class="bar-value">{{ item.total }}</div>
        </div>
      {% empty %}
        <div>No hay datos.</div>
      {% endfor %}
    </div>
  </section>

  <section class="card" style="margin-bottom: 16px;">
    <h2 class="card-title">Usuarios por estado</h2>
    <div>
      {% for item in resumen_usuarios.estados %}
        <div class="bar-row">
          <div class="bar-label">{{ item.estado }}</div>
          <div class="bar-track">
            <div class="bar-fill" style="width: {{ item.pct }}%;"></div>
          </div>
          <div class="bar-value">{{ item.total }}</div>
        </div>
      {% empty %}
        <div>No hay datos.</div>
      {% endfor %}
    </div>
  </section>

  <section class="card">
    <h2 class="card-title">Usuarios por tipo</h2>
    <div>
      {% for item in resumen_usuarios.tipos %}
        <div class="bar-row">
          <div class="bar-label">{{ item.tipo }}</div>
          <div class="bar-track">
            <div class="bar-fill" style="width: {{ item.pct }}%;"></div>
          </div>
          <div class="bar-value">{{ item.total }}</div>
        </div>
      {% empty %}
        <div>No hay datos.</div>
      {% endfor %}
    </div>
  </section>
{% endblock %}
